@using Core;
@page "/search"
@inject ISearchLogic SearchProxy

<h3>Search</h3>
<input @bind="searchTerm" placeholder="Enter search term" />
<button @onclick="PerformSearch">Search</button>

@if (searchResult != null)
{
    <div>
        <h4>Search Results</h4>
        <p>Hits: @searchResult.Result.Hits</p>
        <ul>
            @foreach (var hit in searchResult.Result.DocumentHits)
            {
                <li>@hit</li>
            }
        </ul>

        <h4>Snippets</h4>
        <ul>
            @foreach (var snippet in searchResult.Snippets)
            {
                <li>@snippet</li>
            }
        </ul>
    </div>
}

@code {
    private string searchTerm;
    private SearchResultWithSnippet searchResult;

    private void PerformSearch()
    {
        searchResult = SearchProxy.Search(new string[] { searchTerm }, 10);
    }
}

